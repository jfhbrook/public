set dotenv-load := true

app_name := env('VERBTIONARY_APP_NAME', 'verbtionary')

install:
  pwsh -c './scripts/Install.ps1'

lint:
  pwsh -c '& ./scripts/Activate.ps1; Invoke-ScriptAnalyzer -Path . -Recurse'

format:
  pwsh -c '& ./scripts/Activate.ps1; Invoke-ScriptAnalyzer -Fix -Path . -Recurse'

start:
  cd service && func start

console:
  pwsh -NoExit -Command "& ./scripts/Activate.ps1"

deploy:
  cd service && func azure functionapp publish '{{ app_name }}'
